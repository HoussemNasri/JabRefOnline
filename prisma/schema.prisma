// After changing this file, run yarn prisma:migrate:dev to push the changes to the database

datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id String @id @default(cuid())
  email String @unique
  emailIsVerified Boolean @default(false)
  name String?
  password String
  createdAt DateTime @default(now())
  documents UserDocument[]
}

// Articles, books etc added by users
// We do not know what users put in their fields, thus we assume everything is a string
model UserDocument {
  id String @id @default(cuid())
  users User[]

  type String
  citationKey String?

  lastModified DateTime?
  added DateTime?

  // Common fields
  author String?
  editor String?
  title String?
  journal String?
  journaltitle String?
  booktitle String?
  date String?
  year String?
  month String?
  number String?
  volume String?
  edition String?
  series String?
  pages String?
  pagetotal String?
  issue String?
  note String?
  url String?
  urldate String?
  publisher String?

  // Identifier
  doi String?
  eprint String?
  eprintclass String?
  eprinttype String?
  issn String?
  isbn String?

  // Other fields stored as json
  other Json?
}
